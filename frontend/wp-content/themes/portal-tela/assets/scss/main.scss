// ==================================================
// Portal Tela - Theme Variables
// ==================================================

// Cores principais
$primary:       #1e40af;
$secondary:     #64748b;
$success:       #059669;
$info:          #0891b2;
$warning:       #d97706;
$danger:        #dc2626;
$light:         #f8fafc;
$dark:          #1e293b;

// Tipografia
$font-family-sans-serif: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
$font-family-base: $font-family-sans-serif;
$headings-font-weight: 700;
$line-height-base: 1.7;

// Espaçamento e bordas
$border-radius:     0.5rem;
$border-radius-sm:  0.375rem;
$border-radius-lg:  0.75rem;
$border-radius-xl:  1rem;
$border-radius-pill: 50rem;

// Sombras
$box-shadow-sm:  0 1px 2px 0 rgba(0, 0, 0, 0.05);
$box-shadow:     0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
$box-shadow-lg:  0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);

// Links
$link-decoration: none;
$link-hover-decoration: underline;

// Botões
$btn-font-weight: 500;
$btn-padding-y: 0.625rem;
$btn-padding-x: 1.25rem;

// Cards
$card-border-radius: $border-radius-lg;
$card-cap-padding-y: 1rem;
$card-cap-padding-x: 1.25rem;

// Navbar
$navbar-dark-color:         rgba(#fff, 0.9);
$navbar-dark-hover-color:   #fff;
$navbar-padding-y:          0.75rem;

// ==================================================
// Bootstrap Import
// ==================================================
@import "bootstrap/scss/bootstrap";

// ==================================================
// Bootstrap Icons
// ==================================================
@import "bootstrap-icons/font/bootstrap-icons";

// ==================================================
// Custom Styles
// ==================================================

// Body
body {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    background-color: $light;
}

main {
    flex: 1;
}

// ==================================================
// Header Styles
// ==================================================

// Top Bar
.top-bar {
    font-size: 0.85rem;
    
    .hover-white {
        transition: color 0.2s ease;
        
        &:hover {
            color: #fff !important;
        }
    }
}

// Main Header
.main-header {
    .logo-icon {
        transition: transform 0.2s ease;
    }
    
    a:hover .logo-icon {
        transform: rotate(-5deg) scale(1.05);
    }
    
    .search-form {
        .form-control {
            border-radius: $border-radius 0 0 $border-radius;
            
            &:focus {
                box-shadow: none;
                background-color: lighten($light, 2%);
            }
        }
        
        .btn {
            border-radius: 0 $border-radius $border-radius 0;
        }
    }
}

// Main Navigation
.main-nav {
    .nav-menu {
        overflow-x: auto;
        scrollbar-width: none;
        -ms-overflow-style: none;
        
        &::-webkit-scrollbar {
            display: none;
        }
        
        .nav {
            flex-wrap: nowrap;
        }
        
        .nav-link {
            color: rgba(#fff, 0.9);
            font-weight: 500;
            padding: 1rem 1.25rem;
            white-space: nowrap;
            border-radius: 0;
            transition: all 0.2s ease;
            border-bottom: 3px solid transparent;
            
            &:hover {
                color: #fff;
                background-color: rgba(#fff, 0.1);
                border-bottom-color: rgba(#fff, 0.5);
            }
            
            &.active {
                background-color: rgba(#fff, 0.15);
                border-bottom-color: #fff;
            }
        }
    }
    
    .categories-dropdown {
        .btn {
            border: none;
            font-size: 0.95rem;
            
            &:hover {
                background-color: darken(#fff, 5%);
            }
        }
        
        .dropdown-menu {
            min-width: 280px;
        }
        
        .dropdown-item {
            transition: all 0.2s ease;
            
            &:hover {
                background-color: rgba($primary, 0.1);
                padding-left: 1.5rem;
            }
        }
    }
}

// Mobile Menu Offcanvas
.offcanvas {
    max-width: 320px;
}

// Post Hero Section
.post-hero {
    min-height: 50vh;
    display: flex;
    align-items: flex-end;
    background: linear-gradient(135deg, $primary 0%, darken($primary, 15%) 100%);
    
    .post-hero-image {
        position: absolute;
        inset: 0;
        
        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    }
    
    .post-hero-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
            to top,
            rgba($dark, 0.9) 0%,
            rgba($dark, 0.6) 50%,
            rgba($dark, 0.3) 100%
        );
    }
    
    .post-hero-gradient {
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, $primary 0%, darken($primary, 20%) 100%);
    }
    
    .post-title {
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        
        @include media-breakpoint-down(md) {
            font-size: 2rem;
        }
    }
}

// Post Content
.post-content {
    .post-body {
        font-size: 1.125rem;
        
        h2, h3, h4, h5, h6 {
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: $dark;
        }
        
        h2 {
            font-size: 1.75rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid lighten($primary, 40%);
        }
        
        h3 {
            font-size: 1.5rem;
        }
        
        p {
            margin-bottom: 1.5rem;
            color: $secondary;
        }
        
        img {
            max-width: 100%;
            height: auto;
            border-radius: $border-radius-lg;
            margin: 1.5rem 0;
            box-shadow: $box-shadow-lg;
        }
        
        blockquote {
            margin: 2rem 0;
            padding: 1.5rem;
            background: linear-gradient(135deg, lighten($primary, 45%) 0%, lighten($primary, 48%) 100%);
            border-left: 4px solid $primary;
            border-radius: 0 $border-radius $border-radius 0;
            font-style: italic;
            
            p:last-child {
                margin-bottom: 0;
            }
        }
        
        ul, ol {
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
            
            li {
                margin-bottom: 0.5rem;
                color: $secondary;
            }
        }
        
        a {
            color: $primary;
            text-decoration: underline;
            text-underline-offset: 3px;
            
            &:hover {
                color: darken($primary, 10%);
            }
        }
        
        pre, code {
            background-color: $dark;
            color: #e2e8f0;
            border-radius: $border-radius;
        }
        
        code {
            padding: 0.2rem 0.4rem;
            font-size: 0.875rem;
        }
        
        pre {
            padding: 1.5rem;
            overflow-x: auto;
            
            code {
                padding: 0;
                background: transparent;
            }
        }
        
        table {
            width: 100%;
            margin: 1.5rem 0;
            border-collapse: collapse;
            
            th, td {
                padding: 0.75rem;
                border: 1px solid #e2e8f0;
            }
            
            th {
                background-color: $light;
                font-weight: 600;
            }
            
            tr:nth-child(even) {
                background-color: #f8fafc;
            }
        }
    }
}

// Post Excerpt
.post-excerpt {
    font-size: 1.25rem;
    line-height: 1.8;
}

// Author Box
.post-author-box {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    
    &:hover {
        transform: translateY(-2px);
        box-shadow: $box-shadow-lg !important;
    }
}

// Related Posts
.related-posts {
    .card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        overflow: hidden;
        
        img {
            transition: transform 0.3s ease;
            aspect-ratio: 16/10;
            object-fit: cover;
        }
        
        &:hover {
            transform: translateY(-4px);
            box-shadow: $box-shadow-lg !important;
            
            img {
                transform: scale(1.05);
            }
        }
    }
}

// Hover Effects
.hover-lift {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    
    &:hover {
        transform: translateY(-4px);
    }
}

// Footer
.footer {
    .footer-links {
        li {
            margin-bottom: 0.5rem;
        }
        
        a {
            color: #94a3b8;
            text-decoration: none;
            transition: color 0.2s ease;
            
            &:hover {
                color: #fff;
            }
        }
    }
    
    .social-links a {
        transition: color 0.2s ease;
        
        &:hover {
            color: #fff !important;
        }
    }
}

// Share Buttons
.share-buttons {
    .btn {
        width: 38px;
        height: 38px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        border-radius: 50%;
        transition: all 0.2s ease;
        
        &:hover {
            transform: scale(1.1);
        }
    }
}

// Navbar
.navbar {
    .nav-link {
        font-weight: 500;
        padding: 0.5rem 1rem !important;
        border-radius: $border-radius;
        transition: background-color 0.2s ease;
        
        &:hover {
            background-color: rgba(#fff, 0.1);
        }
    }
}

// Utility: Z-index
.z-1 {
    z-index: 1;
}

// WordPress specific
.wp-block-image {
    margin: 1.5rem 0;
    
    img {
        max-width: 100%;
        height: auto;
    }
    
    figcaption {
        text-align: center;
        font-size: 0.875rem;
        color: $secondary;
        margin-top: 0.5rem;
    }
}

.aligncenter {
    display: block;
    margin: 0 auto;
}

.alignleft {
    float: left;
    margin-right: 1.5rem;
    margin-bottom: 1rem;
}

.alignright {
    float: right;
    margin-left: 1.5rem;
    margin-bottom: 1rem;
}

// Animations
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.post-hero {
    animation: fadeInUp 0.6s ease-out;
}

.post-content {
    animation: fadeInUp 0.6s ease-out 0.2s both;
}

// ================================================
// Home Page - News List
// ================================================

// Featured Main Post
.featured-main {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    
    &:hover {
        transform: translateY(-4px);
        box-shadow: $box-shadow-lg !important;
    }
    
    .featured-overlay {
        transition: background 0.3s ease;
    }
}

// Posts List
.posts-list {
    .post-item {
        transition: background-color 0.2s ease;
        
        &:hover {
            background-color: rgba($primary, 0.03);
            margin-left: -0.5rem;
            margin-right: -0.5rem;
            padding-left: 0.5rem;
            padding-right: 0.5rem;
            border-radius: $border-radius;
        }
        
        &:last-child {
            border-bottom: none !important;
            margin-bottom: 0 !important;
            padding-bottom: 0 !important;
        }
        
        h4 a {
            transition: color 0.2s ease;
            
            &:hover {
                color: $primary !important;
            }
        }
    }
}

// Line clamp utility
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

// Hover effect for links
.hover-primary {
    transition: color 0.2s ease;
    
    &:hover {
        color: $primary !important;
    }
}

// Sidebar cards
.card-header {
    border-bottom: none;
}

.list-group-item {
    border-left: none;
    border-right: none;
    padding: 0.75rem 1rem;
    
    &:first-child {
        border-top: none;
    }
    
    a {
        transition: color 0.2s ease;
        
        &:hover {
            color: $primary !important;
        }
    }
}

// Min width utility
.min-w-0 {
    min-width: 0;
}

// Print Styles
@media print {
    .navbar,
    .footer,
    .post-share,
    .related-posts {
        display: none !important;
    }
    
    .post-hero {
        min-height: auto;
        background: none !important;
        
        .post-hero-image,
        .post-hero-overlay,
        .post-hero-gradient {
            display: none;
        }
        
        .post-title {
            color: #000 !important;
            text-shadow: none;
        }
        
        .post-meta {
            color: #666 !important;
        }
    }
}
